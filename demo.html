---
layout: map
map: gl
title: OpenStreetMap India - WebGL Demo
---

<style>
    #languages {
        position: fixed;
        list-style-type: none;
        left: 0px;
        bottom: 0px;
        cursor: pointer;
    }

    #languages li {
        color: #ddd;
        margin: 3px;
        float: left;
        background-color: #3887be;
        padding: 7px;
    }

    #languages li.activeLanguage {
        background-color: #b3a50b;
        color: #444;
    }

    #languages em {
        font-weight: bold;
        color: #fff;
        float: left;
        margin-right: 5px;
        display: block;
    }

    #toggle {
        position: fixed;
        top: 10px;
        right: 10px;
        background-color: rgba(255, 255, 255, 0.7);
        padding: 5px;
    }
    #toggle span {
        margin-left: 5px;
    }
</style>

<article class="{{page.map}}">

  <div id='map'></div>
  <ul id='languages'></ul>

</article>


<script>
mapboxgl.accessToken = 'pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiemdYSVVLRSJ9.g3lbg_eN0kztmsfIPxa9MQ';

var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/planemad/cilnsr08d004ic4kn5wc4sikn', //stylesheet location
    center: [81, 23.1], // starting position
    zoom: 3.9, // starting zoom
    hash: true
});

// Define a layer collection for easy styling
var mapLayerCollection = {
    'mbx-place-label': ['country-label-xl', 'country-label-lg', 'country-label-md', 'country-label-sm'],
    'osm-place-label': ['osm-country-label', 'osm-state-label', 'osm-city-label', 'osm-town-label']
};

var languages = {
    en: 'English',
    ml: 'Malayalam',
    kn: 'Kannada',
    te: 'Telugu',
    ta: 'Tamil',
    hi: 'Hindi',
    bn: 'Bengali'
};

function addButton(lang, label, langValue, c) {
    var elem = document.createElement('li');
    if (c) elem.className = c;
    var em = document.createElement('em');
    em.innerText = lang;
    elem.appendChild(em);
    elem.appendChild(document.createTextNode(label));
    elem.addEventListener('click', setLanguage.bind(elem, langValue), false);
    document.getElementById('languages').appendChild(elem);
}

addButton('xx', 'Default', null, 'activeLanguage');
Object.keys(languages).forEach(function(lang) {
    addButton(lang, languages[lang], lang);
});

for(var i = 0; i < toggles.length; i++) {
    var toggle = toggles[i];
    toggle.addEventListener('click', toggleMode.bind(toggle, toggle.value));
}

// Switch the language field for the target layer
function setLanguage(language) {
    if (language === null)
        language = 'name';
    else
        language = 'name_' + language;

    setGroupLayoutProperty('osm-place-label', 'text-field', '{' + language + '}');

    // Highlight active language
    var activeElems = document.getElementsByClassName('activeLanguage');
    for(var i = 0; i < activeElems.length; i++)
        activeElems[i].className = '';
    this.className = 'activeLanguage';
}

</script>
